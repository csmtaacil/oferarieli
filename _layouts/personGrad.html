{% include person_top.html %}
		<script>
		window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
		</script>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

{% assign dbName = page.dir | append: 'grad/grad.html' %}
{% assign db = site.pages | where: 'url', dbName | first %}
{% assign gradList = db.listPublications %}
{% assign antiCounter = gradList | size %}
{% if antiCounter == 0 %}
	{% continue %}
{% endif %}

{% if hebrew %}
<h2>תלמידי <span dir="auto" style="direction: ltr; text-align: left;">M.Sc.</span></h2>
{% else %}
<h2>M.Sc. Students</h2>
{% endif %}

{% if db.underconstruction %}
{% if hebrew %}
<h3>הדף בבנייה</h3>
{% else %}
<h3>Page under construction</h3>
{% endif %}
{% endif %}
{% if hebrew==false and db.note %}
<h3>{{db.note}}</h3>
{% else if hebrew and db.note_he %}
<h3>{{db.note_he}}</h3>
{% endif %}
<h2 style='margin-top:20px; margin-bottom:20px'>{{heading}}</h2>

{% assign coadvisorFlag = false %}
{% for s in gradList %}
	{% if s.coadvisor  or  s.coadvisor_he %}
		{% assign coadvisorFlag = true %}
		{% break %}
	{% endif %}
{% endfor %}

	{% if hebrew %}
	<table style="direction: rtl;">
	<thead>
	<tr>
	<th></th>
	<th>שם</th>
	<th></th>
	<th>שם תיזה/פרוייקט</th>
	<th>תאריך </th>
	{% if coadvisorFlag %}
	<th>מנחה משותף</th>
	{% endif %}
	<th>פרסום נגזר</th>
	</thead>
	{% else %}
	<table style="direction: ltr;">
	<thead>
	<tr>
	<th></th>
	<th>Name</th>
	<th></th>
	<th>Thesis/Project Title</th>
	<th>Date</th>
	{% if coadvisorFlag %}
	<th>co-Advisor</th>
	{% endif %}
	<th>Derived publication</th>
	</thead>
	{% endif %}
	</tr>
{% for s in gradList %}
	{% assign dddd = s.pubDate %}
	{% if dddd == nil %}
		{% assign dddd = s.date %}
	{% endif %}
	{% if dddd == '9999' %}
		{% assign dddd = '' %}
	{% endif %}
	{% assign l = dddd | size %}
	{% assign ddNice = '' %}
	{% if l == 4  or l == 8 %} <!-- this 8 thing is due to github. beats me -->
		{% assign ddNice = dddd | append: '-01-01' | date: '%Y' %}
	{% elsif l == 7 %}
		{% assign ddNice =  dddd | append: '-01' | date: '%B %Y' %}
	{% elsif l == 10 %}
		{% assign ddNice = dddd | append: '-01' | date: '%B %-d, %Y' %}
	{% endif %}
		
	{% assign sYear = dddd | slice: 0,4 %}
		{% if hebrew %}
			<tr dir='rtl' style='text-align: right' >
		{% else %}
			<tr dir='ltr' style='text-align: left' >
		{% endif%}
		<td>{{ antiCounter }}</td>
	{% assign antiCounter = antiCounter | minus: 1 %}

	{% if hebrew %}
		{% assign dir = 1 %}
		{% assign author = s.author_he %}
		{% if author == ""  or author == nil %}
			{% assign dir = 0 %}
			{% assign author = s.author %}
		{% endif %}
	{% else %}
		{% assign dir = 0 %}
		{% assign author = s.author %}
		{% if author == ""  or author == nil %}
			{% assign dir = 1 %}
			{% assign author = s.author_he %}
		{% endif %}
	{% endif %}
	

	{% if dir == 0 %}
		<td style="direction: ltr; text-align: left;">
	{% else %}
		<td style="direction: rtl; text-align: right;">
	{% endif %}
	{{author}}
	</td>
	
	<td>
	{% if hebrew %}
	{% if s.pubType == "masterthesis"%}
	תיזה
	{% else %}
	פרוייקט
	{% endif %}
	{% else %}
	{% if s.pubType == "masterthesis"%}
	thesis
	{% else %}
	project
	{% endif %}
	{% endif %}
	</td>
		
	{% if hebrew %}
		{% assign dir = 1 %}
		{% assign title = s.title_he %}
		{% if title == ""  or title == nil %}
			{% assign dir = 0 %}	
			{% assign title = s.title %}
		{% endif %}
	{% else %}
		{% assign dir = 0 %}
		{% assign title = s.title %}
		{% if title == "" or title == nil %}
			{% assign dir = 1 %}
					{% assign title = s.title_he %}
		{% endif %}
	{% endif %}	
	
	{% if dir == 0 %}
		<td style="direction: ltr; text-align: left;">
	{% else %}
		<td style="direction: rtl; text-align: right;">
	{% endif %}	
	{% if s.url %}
	<a href="grad/db/{{s.url}}">
	{% endif %}
	<span style='font-style: italic'>
	{{title}}
	</span>
	{% if s.url %}
	</a>
	{% endif %}
	</td>
	
	<td style="direction: ltr; text-align: left;">
	{{ddNice}}
	</td>	
	
	{% if coadvisorFlag %}
		{% if hebrew %}
			{% assign dir = 1 %}
			{% assign coadvisor = s.coadvisor_he %}
			{% if coadvisor == ""  or coadvisor == nil %}
			{% assign dir = 0 %}	
			{% assign coadvisor = s.coadvisor %}
		{% endif %}
	{% else %}
		{% assign dir = 0 %}
		{% assign coadvisor = s.coadvisor %}
		{% if coadvisor == "" or coadvisor == nil %}
			{% assign dir = 1 %}
					{% assign coadvisor = s.coadvisor_he %}
		{% endif %}
	{% endif %}	
	
	{% if dir == 0 %}
		<td style="direction: ltr; text-align: left;">
	{% else %}
		<td style="direction: rtl; text-align: right;">
	{% endif %}	
		{{coadvisor}}
		</td>
	{% endif %}

	{% if s.journal %}
		<td style="direction: ltr; text-align: left;">
			{% if s.doi %}
			<a href = "https://doi.org/{{s.doi}}">
			{% elsif s.urlpublish %}
			<a href = "{{s.urlpublish}}">
			{% endif %}
			{{s.journal}}
			{% if s.doi or s.urlpublish %}
			</a>
			{% endif %}
		</td>		
	{% else %}
	{% if hebrew %}
		{% assign dir = 1 %}
		{% assign note = s.note_he %}
		{% if note == ""  or note == nil %}
			{% assign dir = 0 %}	
			{% assign note = s.note %}
		{% endif %}
	{% else %}
		{% assign dir = 0 %}
		{% assign note = s.note %}
		{% if note == "" or note == nil %}
			{% assign dir = 1 %}
					{% assign note = s.note_he %}
		{% endif %}
	{% endif %}
	{% if dir == 0 %}
		<td style="direction: ltr; text-align: left;">
	{% else %}
		<td style="direction: rtl; text-align: right;">
	{% endif %}	
	{{note}}
	</td>
			
	{% endif %}	
	

	</tr>
		
{% endfor %}

	</table>

{% include person_bottom.html %}
